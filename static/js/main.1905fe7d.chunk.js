(this["webpackJsonpcolor-magic"]=this["webpackJsonpcolor-magic"]||[]).push([[0],{52:function(e,n,t){},53:function(e,n,t){"use strict";t.r(n);var r=t(4),a=t(7),i=t.n(a),c=t(22),o=t.n(c),s=t(1),u=t(2),l=t(3),d=t(23),m=t(5),f=t(24),p=t(12),h=t(0),b=t(25),v=t(31),O=t(26),j=t(32),g=t(27),w=function e(n){Object(s.a)(this,e),this.init=function(){},this.animate=function(e){},this.dispose=function(){},this.props=n},x={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*Math.pow(e,2):(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},easeIn:function(e,n){return Math.pow(e,n)},easeOut:function(e,n){return 1-x.easeIn(1-e,n)},easeInOut:function(e,n){return e<.5?x.easeIn(2*e,n)/2:1-x.easeIn(2*(1-e),n)/2},easeIn2:function(e){return x.easeIn(e,1.5)},easeOut2:function(e){return x.easeOut(e,1.5)},easeInOut2:function(e){return x.easeInOut(e,1.5)}},I=x,C=5e3,_=function(e){Object(u.a)(t,e);var n=Object(l.a)(t);function t(e){var r;return Object(s.a)(this,t),(r=n.call(this,e)).init=function(e){var n=e.clientWidth,t=e.clientHeight,a=n>1200;r.scene.renderer=new h.WebGLRenderer({antialias:!a,alpha:!0}),r.scene.renderer.setClearColor(0,0),r.scene.renderer.setSize(n,t),r.scene.renderer.setPixelRatio(window.devicePixelRatio),r.scene.renderer.shadowMap.enabled=!0,r.scene.renderer.shadowMap.type=h.PCFSoftShadowMap,e.appendChild(r.scene.renderer.domElement),r.scene.camera=new h.PerspectiveCamera(75,n/t,.1,1e3),r.scene.controls=new b.a(r.scene.camera,r.scene.renderer.domElement),r.scene.controls.enabled=!1,r.scene.camera.position.z=-25,r.scene.controls.update(),r.scene.interaction=new g.a(r.scene.renderer,r.scene.scene,r.scene.camera),r.scene.composer=new v.a(r.scene.renderer),r.scene.renderPass=new O.a(r.scene.scene,r.scene.camera),r.scene.glitchPass=new j.a,r.scene.composer.addPass(r.scene.renderPass),r.scene.composer.addPass(r.scene.glitchPass),r.initUnits(),r.frameId||(r.frameId=requestAnimationFrame(r.animate))},r.dispose=function(){r.disposeUnits(),cancelAnimationFrame(r.frameId)},r.resize=function(e,n){r.scene.renderer&&r.scene.camera&&(r.scene.camera.aspect=e/n,r.scene.camera.updateProjectionMatrix(),r.scene.renderer.setSize(e,n),r.scene.renderer.setPixelRatio(window.devicePixelRatio))},r.animate=function(){r.scene.frameNumber=(r.scene.frameNumber+1)%C;var e=r.scene.renderer.domElement.getBoundingClientRect(),n=e.left,t=e.right,a=e.top,i=(e.bottom<0||a>r.scene.renderer.domElement.clientHeight||t<0||r.scene.renderer.domElement.clientWidth,r.scene),c=i.composer,o=i.controls,s=i.units;i.clock,i.renderer;Object.keys(s).forEach((function(e){return s[e].animate(Object(p.a)(Object(p.a)({THREE:h},r.scene),{},{input:r.scene.units.mouse,maxFrameNumber:C,react:r.props.react,onLoad:r.props.onLoad}))})),o.update(),c.render(),r.frameId=window.requestAnimationFrame(r.animate)},r.initUnits=function(){var e=Object(p.a)(Object(p.a)({THREE:h},r.scene),{},{input:r.scene.units.Controls,maxFrameNumber:C,react:r.props.react,onLoad:r.props.onLoad});Object.keys(r.props.units).forEach((function(n){var t=r.props.units[n];!t.disabled^r.scene.unitsToggled&&(r.scene.units[n]=new t.unit(Object(p.a)(Object(p.a)({},e),t.args)),r.scene.units[n].init&&r.scene.units[n].init())}))},r.disposeUnits=function(){var e=r.scene,n=e.scene,t=e.units;for(Object.keys(t).forEach((function(e){return t[e].dispose()}));n.children.length>0;)n.remove(n.children[0])},r.toggleUnits=function(){r.disposeUnits(),r.scene.unitsToggled=!r.scene.unitsToggled,r.initUnits()},console.log(r.props),r.scene={renderer:void 0,camera:void 0,scene:new h.Scene,composer:void 0,controls:void 0,interaction:void 0,clock:new h.Clock,frameNumber:0,units:{},unitsToggled:!1,react:e.react},r}return t}(function(e){Object(u.a)(t,e);var n=Object(l.a)(t);function t(e){var r;return Object(s.a)(this,t),(r=n.call(this,e)).animateTransitions=function(){var e=[];r.transitions.forEach((function(n){if(n.currentFrame>=n.numberOfFrames)e.push(n);else{var t=n.currentFrame/n.numberOfFrames,r=I[n.timingFuntion]||function(e){return e};n.variable.copy(n.initialValue.clone().lerp(n.value,r(t))),n.currentFrame++}})),e.forEach((function(e){e.onComplete&&e.onComplete(),r.unregisterTransition(e.id)}))},r.registerTransition=function(e){return r.transitions.push({id:r.currentId=(r.currentId+1)%Number.MAX_SAFE_INTEGER,variable:e.variable,value:e.value.clone(),initialValue:e.variable.clone(),numberOfFrames:e.numberOfFrames||10,currentFrame:0,timingFuntion:e.timingFuntion||"none",onComplete:e.onComplete||function(){}}),r.currentId},r.unregisterTransition=function(e){var n=r.transitions.map((function(e){return e.id})).indexOf(e);-1!==n&&r.transitions.splice(n,1)},r.unregisterAllTransitions=function(){return r.transitions.length=0},r.noActiveTransitions=function(){return 0===r.transitions.length},r.transitions=[],r.currentId=0,r}return t}(w)),N=function(e){Object(u.a)(t,e);var n=Object(l.a)(t);function t(e){var a;return Object(s.a)(this,t),(a=n.call(this,e)).componentWillUnmount=function(){a.scene.dispose()},a.render=function(){return Object(r.jsx)("div",{className:"Viewer",ref:a.viewerRef})},a.state={},a.viewerRef=new i.a.createRef,a.scene=new _({react:{},units:e.units,onLoad:e.onLoad,start:e.start}),a}return Object(m.a)(t,[{key:"componentDidMount",value:function(){this.resizeObs=new f.a(this.resize.bind(this)).observe(this.viewerRef.current),this.scene.init(this.viewerRef.current)}},{key:"resize",value:function(){var e=this.viewerRef.current;e&&this.scene.resize(e.clientWidth,e.clientHeight)}}]),t}(i.a.Component),y=t(15),E=function(e){Object(u.a)(t,e);var n=Object(l.a)(t);function t(){var e;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=n.call.apply(n,[this].concat(i))).state={},e.render=function(){return Object(r.jsx)("div",{className:"Home",children:Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("h2",{className:"h2",children:"\u041a\u0438\u0431\u0435\u0440\u043f\u0430\u043d\u043a \u041e\u0434\u0435\u0436\u0434\u0430"}),Object(r.jsx)("h1",{className:"h1",children:"ETHELING"})]})})},e}return t}(i.a.Component),M=function(e){Object(u.a)(t,e);var n=Object(l.a)(t);function t(){var e;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=n.call.apply(n,[this].concat(i))).render=function(){return e.props.src?Object(r.jsx)("img",{src:e.props.src,className:"img ".concat(e.props.className),alt:""}):""},e}return t}(i.a.Component),k=function(e){Object(u.a)(t,e);var n=Object(l.a)(t);function t(){var e;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=n.call.apply(n,[this].concat(i))).state={},e.render=function(){return Object(r.jsx)("div",{className:"Catalog",children:Object(r.jsx)("div",{className:"container",children:Object(r.jsx)("div",{className:"Catalog__container",children:e.props.products.map((function(n){return Object(r.jsxs)("div",{className:"Catalog__item",children:[Object(r.jsx)(M,{src:n.img}),Object(r.jsx)("div",{className:"Catalog__item__add",onClick:function(){return e.props.addProduct(n.name)},children:"ADD"})]},n.name)}))})})})},e}return t}(i.a.Component),F=["\u0414\u0436\u043e\u043d \u0420\u0438\u0437","\u0414\u0435\u0445\u0438\u0430\u0440 \u0413\u0443\u0441\u0435\u0432","\u041b\u0435\u0432 \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432","\u0415\u0433\u043e\u0440 \u041f\u0448\u0435\u043d\u0438\u0447\u043d\u044b\u0439"],A=function(e){Object(u.a)(t,e);var n=Object(l.a)(t);function t(){var e;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=n.call.apply(n,[this].concat(i))).state={},e.render=function(){return Object(r.jsx)("div",{className:"About",children:Object(r.jsx)("div",{className:"container",children:F.map((function(e){return Object(r.jsxs)("div",{className:"About__name",children:[e,";"]},e)}))})})},e}return t}(i.a.Component),L=function(e){Object(u.a)(t,e);var n=Object(l.a)(t);function t(){var e;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=n.call.apply(n,[this].concat(i))).state={},e.render=function(){return Object(r.jsx)("div",{className:"Cart",children:Object(r.jsx)("div",{className:"container",children:Object(r.jsx)("div",{className:"Cart__container",children:e.props.products.map((function(n){return Object(p.a)(Object(p.a)({},n),{},{length:e.props.cart.filter((function(e){return e===n.name})).length})})).map((function(n){return n.length>0?Object(r.jsxs)("div",{className:"Cart__item",children:[Object(r.jsx)(M,{src:n.img}),Object(r.jsxs)("div",{className:"Cart__item__length",children:["[",n.length,"]"]}),Object(r.jsx)("div",{className:"Cart__item__add",onClick:function(){return e.props.addProduct(n.name)},children:"+"}),Object(r.jsx)("div",{className:"Cart__item__remove",onClick:function(){return e.props.removeProduct(n.name)},children:"-"})]},n.name):""}))})})})},e}return t}(i.a.Component),T=t.p+"static/media/green.ea6dbaef.png",P=t.p+"static/media/black.db9ae65a.png",R=t.p+"static/media/blue.8e973035.png",S=[{label:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",link:"home",Comp:E},{label:"\u0422\u043e\u0432\u0430\u0440\u044b",link:"catalog",Comp:k},{label:"\u041e \u043d\u0430\u0441",link:"about",Comp:A},{label:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430",link:"cart",Comp:L}],z=[{name:"GN",img:T},{name:"BK",img:P},{name:"BE",img:R}],Q=function(e){Object(u.a)(t,e);var n=Object(l.a)(t);function t(){var e;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=n.call.apply(n,[this].concat(i))).state={current:"home",products:[]},e.removeOneFromArray=function(e,n){var t=e.indexOf(n);return-1===t?e:[].concat(Object(y.a)(e.slice(0,t)),Object(y.a)(e.slice(t+1)))},e.render=function(){return Object(r.jsxs)("div",{className:"Menu",children:[Object(r.jsx)("div",{className:"Menu__nav",children:S.map((function(n){return Object(r.jsxs)("div",{className:"Menu__nav__item ".concat(e.state.current===n.link&&"Menu__nav__item--active"),onClick:function(){return e.setState({current:n.link})},children:[n.label," ","cart"===n.link&&"[".concat(e.state.products.length,"]")]},n.link)}))}),Object(r.jsx)("div",{className:"Menu__content",children:(n=S.reduce((function(n,t){return n.link===e.state.current?n:t})).Comp,Object(r.jsx)(n,{addProduct:function(n){return e.setState({products:[].concat(Object(y.a)(e.state.products),[n])})},removeProduct:function(n){return e.setState({products:e.removeOneFromArray(e.state.products,n)})},products:z,cart:e.state.products}))})]});var n},e}return t}(i.a.Component),H=t(11),U=t(28),W=t.n(U),V=t(10),X=t.n(V),B=t(13),G=t(29),D=function(){var e=Object(B.a)(X.a.mark((function e(n){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){return(new G.a).load(n,(function(n){return e(n)}),(function(e){return console.log(e.loaded/e.total*100+"% loaded")}),(function(e){return t(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Y=function(e){Object(u.a)(t,e);var n=Object(l.a)(t);function t(e){var r;return Object(s.a)(this,t),(r=n.call(this,e)).loadModel=function(){var e=Object(B.a)(X.a.mark((function e(n){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(n.props.file);case 2:n.gtlf=e.sent,n.scene=n.gtlf.scene,n.props.scene.add(n.scene),n.onLoad&&n.onLoad();case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),r.animate=function(e){},r.dispose=function(e){},r}return t}(w),q={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*Math.pow(e,2):(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},easeIn:function(e,n){return Math.pow(e,n)},easeOut:function(e,n){return 1-q.easeIn(1-e,n)},easeInOut:function(e,n){return e<.5?q.easeIn(2*e,n)/2:1-q.easeIn(2*(1-e),n)/2},easeIn2:function(e){return q.easeIn(e,1.5)},easeOut2:function(e){return q.easeOut(e,1.5)},easeInOut2:function(e){return q.easeInOut(e,1.5)}},J=q,K=(Math.PI,function(e){Object(u.a)(t,e);var n=Object(l.a)(t);function t(e){var r;return Object(s.a)(this,t),(r=n.call(this,e)).onLoad=function(){r.scene.scale.multiplyScalar(12.5),r.scene.position.add(new h.Vector3(17,-35,20)),r.scene.rotation.x+=Math.PI/7,r.props.onLoad()},r.animate=function(e){if(r.scene){r.animateTransitions();var n=e.input.mouse,t=n.alphaX,a=n.alphaY;r.scene.rotation.y=Math.PI/1.2-Math.sign(t)*Math.pow(Math.abs(t),3)*5,r.scene.rotation.z=-Math.PI/5-Math.sign(a)*Math.pow(Math.abs(a),3)*3}},r.dispose=function(e){},r.loadModel(Object(H.a)(r)),r}return t}(W()(Y,(function e(n){var t=this;Object(s.a)(this,e),this.animateTransitions=function(){var e=[];t.transitions.forEach((function(n){if(n.currentFrame>=n.numberOfFrames)e.push(n);else{var t=n.currentFrame/n.numberOfFrames,r=J[n.timingFuntion]||function(e){return e};n.variable.slerp?n.variable.copy(n.initialValue.clone().slerp(n.value,r(t))):n.variable.copy(n.initialValue.clone().lerp(n.value,r(t))),n.currentFrame++}})),e.forEach((function(e){e.onComplete&&e.onComplete(),t.unregisterTransition(e.id)}))},this.registerTransition=function(e){return t.transitions.push({id:t.currentId=(t.currentId+1)%Number.MAX_SAFE_INTEGER,variable:e.variable,value:e.value.clone(),initialValue:e.variable.clone(),numberOfFrames:e.numberOfFrames||10,currentFrame:0,timingFuntion:e.timingFuntion||"none",onComplete:e.onComplete||function(){}}),t.currentId},this.unregisterTransition=function(e){var n=t.transitions.map((function(e){return e.id})).indexOf(e);-1!==n&&t.transitions.splice(n,1)},this.unregisterAllTransitions=function(){return t.transitions.length=0},this.noActiveTransitions=function(){return 0===t.transitions.length},this.transitions=[],this.currentId=0})))),$=[{color:3256496,x:35,z:-13.8},{color:9152340,x:31,z:25},{color:10253496,x:-31,z:25},{color:16711824,x:-35,z:-13.8}],Z=function(e){Object(u.a)(t,e);var n=Object(l.a)(t);function t(e){var r;Object(s.a)(this,t),(r=n.call(this,e)).animate=function(e){},r.dispose=function(){};var a=e.scene,i=e.THREE;return r.light0=new i.HemisphereLight(16777215,4473924,3.35),r.light0.position.set(0,3,0),a.add(r.light0),r.lights=[],$.forEach((function(e,n){r.lights.push(new i.SpotLight(e.color,16777215,43));var t=r.lights[n];t.position.set(e.x,-12.5,e.z),t.castShadow=!0,t.decay=12,a.add(t),t.shadow.mapSize.width=512,t.shadow.mapSize.height=512,t.shadow.camera.near=.5,t.shadow.camera.far=500})),r}return t}(w),ee=t(18),ne=t.n(ee),te=function(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}},re={mouse:{alphaX:0,alphaY:0}},ae=function(e){Object(u.a)(t,e);var n=Object(l.a)(t);function t(e){var r;return Object(s.a)(this,t),(r=n.call(this,e)).init=function(){},r.animate=function(e){},r.handleMouseMove=function(e){if(e.pageX&&e.pageY){var n=r.props.renderer.domElement.getBoundingClientRect(),t=n.left,a=n.right,i=n.top,c=(a-t)/2,o=(n.bottom-i)/2;r.mouse.alphaX=-ne()((e.pageX-c)/window.innerWidth,-1,1),r.mouse.alphaY=ne()((e.pageY-o)/window.innerHeight,-1,1)}else console.log("no mouse found")},r.dispose=function(){te()||window.removeEventListener("mousemove",r.handleMouseMove,!1)},Object.keys(re).forEach((function(e){return r[e]=re[e]})),te()||window.addEventListener("mousemove",r.handleMouseMove,!1),r}return t}(w),ie=t(30),ce=function(){var e=Object(B.a)(X.a.mark((function e(n){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){return(new ie.a).load(n,(function(n){n.mapping=h.EquirectangularReflectionMapping,e(n)}),(function(e){var n=e.srcElement.responseURL.split("/");n[n.length-1].split(".")}),(function(e){return t(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),oe=t.p+"static/media/delta_2_1k.89c671ae.hdr",se=function(e){Object(u.a)(t,e);var n=Object(l.a)(t);function t(e){var r;return Object(s.a)(this,t),(r=n.call(this,e)).loadTexture=Object(B.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(oe);case 2:r.props.scene.environment=e.sent;case 3:case"end":return e.stop()}}),e)}))),r.animate=function(e){},r.dispose=function(e){},r.loadTexture(),r}return t}(w),ue=t.p+"static/media/combined.73064b52.glb",le=t.p+"static/media/Sentionauts.87369474.mp3",de=function(e){Object(u.a)(t,e);var n=Object(l.a)(t);function t(){var e;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=n.call.apply(n,[this].concat(i))).state={started:!1,audioLoaded:!1,modelLoaded:!1},e.componentDidMount=function(){return e.initializeAudio()},e.componentWillUnmount=function(){return e.audio.pause()},e.initializeAudio=function(){e.audio=new Audio,e.audio.addEventListener("canplay",(function(){return e.setState({audioLoaded:!0})})),e.audio.addEventListener("ended",(function(){e.audio.pause(),e.audio.currentTime=0,e.play()})),e.audio.preload="auto",e.audio.src=le,e.audio.load()},e.start=function(){e.audio.play(),e.setState({started:!0})},e.render=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(N,{id:"sceneClosed",onLoad:function(){return e.setState({modelLoaded:!0})},start:e.state.started,units:{head:{unit:K,args:{file:ue},disabled:!1},lights:{unit:Z,disabled:!1},mouse:{unit:ae,disabled:!1},environment:{unit:se,disabled:!1}}}),e.state.started?Object(r.jsx)(Q,{}):Object(r.jsx)("div",{className:"start-screen",children:Object(r.jsx)("button",{className:"start-screen__button",disabled:!e.state.audioLoaded||!e.state.modelLoaded,onClick:function(){return e.start()},children:e.state.audioLoaded&&e.state.modelLoaded?"START_":"LOADING_"})})]})},e}return t}(i.a.Component),me=(t(52),function(e){Object(u.a)(t,e);var n=Object(l.a)(t);function t(){var e;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=n.call.apply(n,[this].concat(i))).state={},e.render=function(){return Object(r.jsx)(d.a,{children:Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(de,{})})})},e}return t}(i.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(me,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[53,1,2]]]);
//# sourceMappingURL=main.1905fe7d.chunk.js.map